@inherits Umbraco.Web.Mvc.UmbracoViewPage
@{
    Layout = "Master.cshtml";
}
<!-- CTA -->
@{ Html.RenderAction("RenderCTA", "SiteLayout");}
<!-- Content Grid -->
<section class="wrapper">
    <div class="inner">
        @Html.GetGridHtml(Model, "contentGridControl","bootstrap3")
    </div>
    <div class="inner">
            @{
            IPublishedContent currentPage = Umbraco.Content(Umbraco.AssignedContentItem.Id);
            IEnumerable<IPublishedContent> children = currentPage.Children();

            if (Umbraco.AssignedContentItem.Name.Contains("code"))
            {
                foreach (var child in children)
                {
                    <div>
                        <h2><i class="icon fa fa-fw fa-code"></i><a style="text-decoration:underline;" href="@child.Url"> @child.Name.</a></h2>
                        <p style="padding-left:3em;">@child.Value("cTABody", defaultValue: "Project Details.").Replace("<p>", "").Replace("</p>", "")</p>
                    </div>
                }
            }
            else if (Umbraco.AssignedContentItem.Name.Contains("other"))
            {
                foreach (var child in children)
                {
                    <div class="inner">
                        <h2><i class="icon fa fa-fw fa-lightbulb-o"></i><a style="text-decoration:underline;" href="@child.Url"> @child.Name.</a></h2>
                        <p style="padding-left:3em;">@child.Value("cTABody", defaultValue: "Project Details.").Replace("<p>", "").Replace("</p>", "")</p>
                    </div>
                }
            }
        }
    </div>
</section>